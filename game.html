<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form action="game" method="post">

<p>[[${tate}]]</p>
<p>[[${yoko}]]</p>

<p></p>
    <p>[[${tesuu}]]ターン目</p>

<p>[[${joukyou}]]</p>
<p>縦(1~5):<input name="tate" ></p>
<p>横(1~5):<input name="yoko" ></p>

<!-- ボタン -->
<button type="submit">攻撃</button>

<p></p>

<p>あなたの陣地</p>
<!-- プレイヤーの陣地テーブル作る -->
<table border="3">
    <tr>
        <th></th></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
    </tr>

    <script>

        var i;
        var j;
        var n;
        var ifhantei;
        var count = 1;
        var comAttack=[[${comAttack}]];
        var tate=[[${tate}]];
        var yoko=[[${yoko}]];

        var allcomAttack = [];


        allcomAttack.push(comAttack);

        for(i=1;i<=5;i++){
            ifhantei = 0;

            document.write('<tr>');
            document.write('<th>'+i+'</th>');

            for(j=1;j<=5;j++){

                for(n=0; n<comAttack.length; n++){
                    if(comAttack[n]==count){
                        document.write('<td>'+"・"+'</td>');
                        ifhantei = 1;
                    }
                }

                if(ifhantei==1){
                    count++;
                    ifhantei = 0;
                    continue;
                }

                if(i==yoko&&j==tate){
                    document.write('<td>'+'W'+'</td>');
                }else {
                    document.write('<td>'+'</td>');
                }
                count++;
            }
            document.write('</tr>');
        }


    </script>
</table>

<p></p>

<p>敵陣地</p>
<!-- CPUの陣地テーブルを作る -->

<table border="3">
    <tr>
        <th></th></th><th>1</th><th>2</th><th>3</th><th>4</th><th>5</th>
    </tr>

    <script>

        var i,j,n;
        var count=1;
        var ifhantei;
        var myAttack=[[${myAttack}]];




        for(i=1;i<=5;i++){

            ifhantei = 0;

            document.write('<tr>');
            document.write('<th>'+i+'</th>');



            for(j=1;j<=5;j++){

                for(n=0; n<myAttack.length; n++){
                    if(myAttack[n]==count){
                        document.write('<td>'+"・"+'</td>');
                        ifhantei = 1;
                    }
                }

                if(ifhantei==1){
                    count++;
                    ifhantei = 0;
                    continue;
                }

                document.write('<td>'+'</td>');
                count++;
            }

            document.write('</tr>');

        }

    </script>
</table>

</form>
</body>
</html>
